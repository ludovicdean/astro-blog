---
const base = import.meta.env.BASE_URL;
const { tags, context } = Astro.props;
function slugify(str) {
    return String(str)
        .normalize("NFKD")
        .replace(/[\u0300-\u036f]/g, "")
        .trim()
        .toLowerCase()
        .replace(/[^a-z0-9 -]/g, "")
        .replace(/\s+/g, "-")
        .replace(/-+/g, "-");
}
---

{
    context == "post" ? (
        <div style="padding-bottom:1em;">
            {Object.entries(tags).map(([key, val]) => (
                <span style="display:inline; font-size:0.9em">
                    <span style="padding-left:0.5em;padding-right:0.5em">
                        <a
                            href={`${base + "/tags/" + slugify(val)}/`}
                            style="text-decoration:none"
                        >
                            {val}
                        </a>
                    </span>
                </span>
            ))}
        </div>
    ) : (
        <div style="padding-bottom:1em;">
            {Object.entries(tags).map(([key, val]) => (
                <span style="display:inline; font-size:0.9em">
                    <span style="padding-left:0.5em">
                        <a
                            href={`${base + "/tags/" + slugify(key)}/`}
                            style="text-decoration:none"
                        >
                            {key}
                        </a>
                    </span>
                    <span style="padding-right:0.5em;padding-left:0.3em">
                        {val}
                    </span>
                </span>
            ))}
        </div>
    )
}
