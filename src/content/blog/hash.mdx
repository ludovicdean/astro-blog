---
title : "C'est quoi un hash"
date : Dec 31 2050
tags :
- I-culture
description : "Vous utilisez des hash au quotidien, mais vous ignorez ce que c'est ? D√©couvrons-le ensemble !"
banner : "/images/gaelle-marcel-9DZY0mO98xU-unsplash.jpg"
tableData1 :
  headers : ['algorithme', 'nombre de valeurs possibles']
  rows :
  - ['MD-5', '2^128']
  - ['SHA-1', '2^160']
  - ['SHA-256', '2^256']
  - ['SHA-512', '2^512']
---
import DataTable from "../../components/DataTable.astro";

√Ä l'heure de l'informatique quantique, ils commencent √† trembler devant leur relative fragilit√©, mais notre monde, submerg√© d'identifiants et de mots de passe en regorge, je veux parler des hash.

Pour notre s√©curit√© et la s√©curit√© des applications, on a l'habitude de ne PAS stocker les mots de passe des utilisateurs d'une application en clair.

Un simple coup d'≈ìil et un d√©veloppeur aurait acc√®s d'un coup de baguette magique √† vos donn√©es, sans avoir besoin de vous demander l'autorisation ? Impensable, et c'est ici qu'interviennent les hash !

## C'est quoi un hash ?

Un hash, c'est ce qu'on stocke dans nos bases de donn√©es en lieu et place de votre mot de passe. Bien hardi celui qui saura dire que 095d15cc4fc6c4b1a36fb0a03b04f4a8 correspond √† "devendevenir" en clair. Une application se fiche litt√©ralement de conna√Ætre votre mot de passe, elle a besoin de savoir que vous connaissez votre mot de passe. Quand vous vous connectez √† une application, celle-ci calcul le hash de votre mot de passe et le compare au hash stock√© dans sa base de donn√©es en face de votre identifiant. Comment fait-on ?

Il faut se pencher sur la g√©n√©ration d'un hash pour comprendre l'int√©r√™t de la technique.

## D'o√π vient la notion de hash ?

La notion de hachage des donn√©es est n√©e dans les ann√©es 90, avec Ronald Rivest, qui a d√©crit l'algorithme MD-4 dans une publication que vous pouvez retrouver [ici](https://link.springer.com/chapter/10.1007/3-540-38424-3_22). Il d√©crit ici une fonction de hachage comme un algorithme qui prend en entr√©e un message de longueur arbitraire et produit une sortie de 128 bits (longueur fixe) d√©crit comme l'empreinte digitale, ou message r√©sum√© (message digest, d'o√π MD dans MD-4).

Tout l'int√©r√™t de cette fonction r√©side dans le fait que l'ex√©cuter pour "chiffrer" un texte est peu co√ªteux, mais que l'inverse est pratiquement impossible, ou infaisable dans un temps raisonnable. Par ailleurs, il est presque impossible que deux textes diff√©rents produisent le m√™me r√©sultat.

Une fonction de hachage a les propri√©t√©s suivantes :

- d√©terministe : si A devient B, ce sera toujours le cas.
- uniforme : tous les r√©sultats ont les m√™mes chances d'√™tre produits.
- un petit changement change grandement le r√©sultat.
- r√©sistante aux collisions.
- √† sens unique : quasi-impossibilit√© de remonter de B vers A.

## Les premiers algorithmes

Dans le cas du MD-5 (descendant direct du MD-4), on peut d√©crire les op√©rations successives subies par le message initial ainsi :

- Pr√©paration : allongement du message pour atteindre une taille sp√©cifique.
- Traitement : le message est d√©coup√© en blocs de taille √©gale, auxquels on fait subir une s√©rie d'op√©rations math√©matiques.
- Finalisation : combinaison des r√©sultats pour produire l'empreinte finale.

Le MD-5 fais maintenant partie de l'histoire ancienne, car il pr√©sente trop de vuln√©rabilit√©s :

- attaques par dictionnaires : permet d'acc√©l√©rer les recherches en r√©duisant les combinaisons √† tester.
- attaques par collisions : deux textes diff√©rents donnant le m√™me hash MD-5.
- vitesse du MD-5 : la rapidit√© du MD-5 est un atout jusqu'au moment o√π elle devient un atout pour les attaques par force brute.

Du fait du nombre relativement limit√© de valeurs de hash possibles, ce type d'algorithme est vuln√©rable aux attaques avec des rainbow tables, qui sont des tables contenant un tr√®s grand nombre de mots et leur empreinte. Ce type d'outils permet notamment d'√©carter de grandes plages de valeurs possibles de hash et de remonter rapidement vers la vraie valeur et donc la donn√©e initiale.

L'√©volution des fonctions de hachage a men√© vers des domaines de valeurs possibles de plus en plus larges :

<DataTable data={frontmatter.tableData1} />

## Et apr√®s ?

La recherche d'algorithmes plus s√©curis√©s a beaucoup avanc√© gr√¢ce aux travaux de la NSA (National Security Agency) am√©ricaine sur le sujet. Le SHA-1 a √©t√© l'un des premiers algorithmes adopt√©s par le grand public (1995). Une dizaine d'ann√©es plus tard, il a √©t√© d√©montr√© que des failles permettaient de r√©aliser des attaques compromettant fortement les hash g√©n√©r√©s.

√Ä partir de 2013, l'algorithme sera progressivement d√©clar√© obsol√®te, et progressivement remplac√© par le SHA-2.

## De nos jours

La principale probl√©matique autour des algorithmes de hachage est de trouver des algorithmes s√©curis√©s et performants. En effet, si le hachage d'un mot de passe doit prendre 10 secondes √† chaque fois qu'on se connecte √† une application, on risque de perdre des utilisateurs. √Ä l'inverse, le syst√®me doit √™tre robuste, sans quoi il sera tr√®s vite d√©sert√© par les utilisateurs.

On travaille pr√©f√©rentiellement avec des algorithmes de hachage plus r√©cents, comme Bcrypt (1999), Scrypt (2012) et Argon2 (2017). Le temps d'ex√©cution plus long que pour d'autres algorithmes rend les attaques par force brute trop co√ªteuses en termes de temps. Ces algorithmes ont √©galement l'avantage d'√™tre param√©trables. On peut en effet r√©gler le nombre d'it√©rations effectu√© sur chaque bloc du message, et ajouter un sel au message. 

L√† o√π le MD-5 √©tait vuln√©rable aux attaques avec des rainbow tables, l'arriv√©e des algorithmes tels que Bcrypt, Scrypt et Argon2 ont permis, gr√¢ce √† leur param√©trabilit√©, de largement augmenter la difficult√© de ce type d'attaque, non pas par l'augmentation du nombre de possibilit√©s mais par l'allongement consid√©rable des temps de calcul.


## Conclusion

Maintenant, vous comprenez mieux la notion de hash, et vous avez √©limin√© un terme de plus dans votre liste de mots √† √©claircir ! Et si vous vous dites que √ßa ne sert √† rien, d√©trompez-vous ! J'ai moi-m√™me r√©alis√© un outil de g√©n√©ration de hash MD-5 quelques mois avant mes d√©buts de d√©veloppeurs üòÖ.